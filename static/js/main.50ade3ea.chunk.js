(this.webpackJsonpmetagrab=this.webpackJsonpmetagrab||[]).push([[0],{56:function(e,t,a){e.exports=a(82)},61:function(e,t,a){},77:function(e){e.exports=JSON.parse('{"apiURL":"https://api.metagrab.barkloaf.com"}')},80:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),s=a.n(l),c=(a(61),a(10)),o=a(11),i=a(24),u=a(15),m=a(14),h=a(39),d=a.n(h),E=a(46),p=a(47),b=a.n(p),f=a(48),y=a.n(f),g=a(49),v=a.n(g),k=a(92),w=a(87),x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(k.a,{key:this.props.pos||"top",placement:this.props.pos||"top",overlay:r.a.createElement(w.a,null,this.props.text)},r.a.createElement("span",null,this.props.children))}}]),a}(r.a.Component),S=a(88),I=a(94),A=a(89),T=a(53),N=a(90),F=function(e){switch(e){case 0:return"C";case 1:return"C\u266f/D\u266d";case 2:return"D";case 3:return"D\u266f/E\u266d";case 4:return"E";case 5:return"F";case 6:return"F\u266f/G\u266d";case 7:return"G";case 8:return"G\u266f/A\u266d";case 9:return"A";case 10:return"A\u266f/B\u266d";case 11:return"B";default:return"None"}},j=function(e){switch(e){case 0:return"Minor";case 1:return"Major";default:return"None"}},M=function(e){var t="";return e.forEach((function(e){t=t+(e.name||e)+", "})),t.slice(0,-2)},B="This number represents how confident Spotify is in the calculation.",L=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.json;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,null,r.a.createElement(I.a,{bg:"dark",text:"white",style:{width:"18rem"}},r.a.createElement("div",{className:"embed-responsive embed-responsive-4by3"},r.a.createElement("iframe",{className:"embed-responsive-item",src:"https://open.spotify.com/embed/track/"+e.Info.id,allow:"encrypted-media",allowTransparency:"true",frameBorder:"-10",title:"Track Preview"})),r.a.createElement(I.a.Header,null,r.a.createElement("b",null,"Album Info:")),r.a.createElement(A.a,{className:"list-group-flush",variant:"dark"},r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"The name of the album."},"Name:"),r.a.createElement("br",null),r.a.createElement("b",null,e.Album.name)),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:'The type of the album: one of "album", "single", or "compilation".'},"Type:"),r.a.createElement("br",null),r.a.createElement("b",null,e.Album.album_type)),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"The record label for the album."},"Label:"),r.a.createElement("br",null),r.a.createElement("b",null,e.Album.label)),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"The date the album was first released."},"Date:"),r.a.createElement("br",null),r.a.createElement("b",null,e.Album.release_date))),r.a.createElement(I.a.Footer,null,r.a.createElement("small",null,r.a.createElement("a",{href:new URL(e.Album.id,"https://open.spotify.com/album/"),className:"text-muted"},e.Album.uri)))),r.a.createElement(I.a,{bg:"dark",text:"white",style:{width:"18rem"}},r.a.createElement(I.a.Header,null,r.a.createElement("b",null,"Track Info:")),r.a.createElement(A.a,{className:"list-group-flush",variant:"dark"},r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"The name of the track."},"Name:"),r.a.createElement("br",null),r.a.createElement("b",null,e.Info.name)),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"The artists who performed the track."},"Artists:"),r.a.createElement("br",null),r.a.createElement("b",null,M(e.Info.artists))),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"The track length."},"Duration:"),r.a.createElement("br",null),r.a.createElement("b",null,Math.floor(e.Features.duration_ms/1e3/60)+" min "+Math.floor(e.Features.duration_ms/1e3)%60+" sec")),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"Whether or not the track has explicit lyrics."},"Explicit:"),r.a.createElement("br",null),r.a.createElement("b",null,function(e){switch(e){case!0:return"Yes";default:return"No"}}(e.Info.explicit))),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"The popularity of the track. The popularity is calculated by algorithm and is based, in the most part, on the total number of plays the track has had and how recent those plays are."},"Popularity:"),r.a.createElement("br",null),r.a.createElement("b",null,e.Info.popularity,"%")),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"A list of the countries in which the track can be played, identified by their ISO 3166-1 alpha-2 code."},"Available Markets:"),r.a.createElement("br",null),r.a.createElement(x,{text:M(e.Info.available_markets),pos:"right"},r.a.createElement("b",null,r.a.createElement("u",null,e.Info.available_markets.length)," countries"))),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"The number of the track. If an album has several discs, the track number is the number on the specified disc."},"Track # on album:"),r.a.createElement("br",null),"#",r.a.createElement("b",null,e.Info.track_number))),r.a.createElement(I.a.Footer,null,r.a.createElement("small",null,r.a.createElement("a",{href:new URL(e.Info.id,"https://open.spotify.com/track/"),className:"text-muted"},e.Info.uri)))),r.a.createElement(I.a,{bg:"dark",text:"white",style:{width:"18rem"}},r.a.createElement(I.a.Header,null,r.a.createElement("b",null,"Track Features:")),r.a.createElement(A.a,{className:"list-group-flush",variant:"dark"},r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"Acousticness is a measure of whether the track is acoustic."},"Acousticness:"),r.a.createElement("br",null),r.a.createElement("b",null,Math.round(100*e.Features.acousticness),"%")),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"Danceability describes how suitable a track is for dancing based on a combination of musical elements including tempo, rhythm stability, beat strength, and overall regularity."},"Danceability:"),r.a.createElement("br",null),r.a.createElement("b",null,Math.round(100*e.Features.danceability),"%")),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"Energy is a measure that represents a perceptual measure of intensity and activity. Typically, energetic tracks feel fast, loud, and noisy."},"Energy:"),r.a.createElement("br",null),r.a.createElement("b",null,Math.round(100*e.Features.energy),"%")),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"Instrumentalness predicts whether a track contains no vocals. \u201cOoh\u201d and \u201caah\u201d sounds are treated as instrumental in this context. Rap or spoken word tracks are clearly \u201cvocal\u201d."},"Instrumentalness:"),r.a.createElement("br",null),r.a.createElement("b",null,Math.round(100*e.Features.instrumentalness),"%")),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"Liveness detects the presence of an audience in the recording."},"Liveness:"),r.a.createElement("br",null),r.a.createElement("b",null,Math.round(100*e.Features.liveness),"%")),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"Speechiness detects the presence of spoken words in a track. The more exclusively speech-like the recording (e.g. talk show, audio book, poetry)."},"Speechiness:"),r.a.createElement("br",null),r.a.createElement("b",null,Math.round(100*e.Features.speechiness),"%")),r.a.createElement(T.a,{variant:"dark"},r.a.createElement(x,{text:"Valence is a measure describing the musical positiveness conveyed by a track. Tracks with high valence sound more positive (e.g. happy, cheerful, euphoric), while tracks with low valence sound more negative (e.g. sad, depressed, angry)."},"Valence:"),r.a.createElement("br",null),r.a.createElement("b",null,Math.round(100*e.Features.valence),"%"))))),r.a.createElement(N.a,{responsive:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("u",null,r.a.createElement("b",null,r.a.createElement(x,{text:"Sections are defined by large variations in rhythm or timbre (e.g. chorus, verse, bridge, guitar solo, etc)."},"Section")))),r.a.createElement("th",null,r.a.createElement("u",null,r.a.createElement("b",null,r.a.createElement(x,{text:"The estimated overall key of the section."},"Key")))),r.a.createElement("th",null,r.a.createElement("u",null,r.a.createElement("b",null,r.a.createElement(x,{text:"Indicates the modality (major or minor) of a track, the type of scale from which its melodic content is derived."},"Mode")))),r.a.createElement("th",null,r.a.createElement("u",null,r.a.createElement("b",null,r.a.createElement(x,{text:"The overall estimated tempo (speed or pace of a given piece) of the section. This derives directly from the average beat duration."},"Tempo")))),r.a.createElement("th",null,r.a.createElement("u",null,r.a.createElement("b",null,r.a.createElement(x,{text:"An estimated overall time signature of a track. The time signature (meter) is a notational convention to specify how many beats are in each bar (or measure)."},"Time Signature")))),r.a.createElement("th",null,r.a.createElement("u",null,r.a.createElement("b",null,r.a.createElement(x,{text:"The overall loudness of the section."},"Loudness")))))),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Overall")),r.a.createElement("td",null,r.a.createElement("b",null,F(e.Features.key))),r.a.createElement("td",null,r.a.createElement("b",null,j(e.Features.mode))),r.a.createElement("td",null,r.a.createElement("b",null,Math.round(e.Features.tempo)," bpm")),r.a.createElement("td",null,r.a.createElement("b",null,e.Features.time_signature,"/4")),r.a.createElement("td",null,r.a.createElement("b",null,Math.round(e.Features.loudness)," dB")))),r.a.createElement("tbody",null,function(e){var t=[];return e.forEach((function(e,a){return t.push(r.a.createElement("tr",null,r.a.createElement("td",null,"Section ",a," (",Math.round(Math.floor(e.start/60))+" min "+Math.round(e.start%60)+" sec"," - ",Math.round(Math.floor((e.start+e.duration)/60))+" min "+Math.round((e.start+e.duration)%60)+" sec",") ",r.a.createElement(x,{text:B},r.a.createElement("small",{className:"text-muted"},Math.round(100*e.confidence),"%"))),r.a.createElement("td",null,F(e.key)," ",r.a.createElement(x,{text:B},r.a.createElement("small",{className:"text-muted"},Math.round(100*e.key_confidence),"%"))),r.a.createElement("td",null,j(e.mode)," ",r.a.createElement(x,{text:B},r.a.createElement("small",{className:"text-muted"},Math.round(100*e.mode_confidence),"%"))),r.a.createElement("td",null,Math.round(e.tempo)," bpm ",r.a.createElement(x,{text:B},r.a.createElement("small",{className:"text-muted"},Math.round(100*e.tempo_confidence),"%"))),r.a.createElement("td",null,e.time_signature,"/4 ",r.a.createElement(x,{text:B},r.a.createElement("small",{className:"text-muted"},Math.round(100*e.time_signature_confidence),"%"))),r.a.createElement("td",null,Math.round(e.loudness)," dB")))})),t}(e.Analysis.sections))),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("small",{className:"text-muted"},"All metadata is made available by ",r.a.createElement("a",{href:"https://spotify.com",className:"text-muted"},"Spotify"),".")))}}]),a}(r.a.Component),O=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"about"},r.a.createElement("img",{src:"/logo.png",width:"200",className:"App-logo",alt:"Logo"}),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"MetaGrab"),r.a.createElement("h2",null,"Grabs Spotify's metadata for any track you'd like!")),r.a.createElement("div",{style:{textAlign:"left"},className:"about-text"},r.a.createElement("span",null,r.a.createElement("u",null,r.a.createElement("h3",null,"What is this?")),r.a.createElement("p",null,"This is a small little webapp that grabs ",r.a.createElement("a",{href:"https://spotify.com",style:{color:"#85BBFD"}},"Spotify"),"'s metadata about any track on its platform. Metadata is data about other data. Track metadata can include artists, what album the track appeared on, and the qualitative feel of the track. If you are ever curious about what Spotify thinks of a particular track and about what it uses to feed its recommendation algorithms, this is for you!")),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("u",null,r.a.createElement("h3",null,"How do I use this?")),r.a.createElement("p",null,"To use this webapp, you simply have to type in the name and/or artist of the song that you wish to look up in the search bar, and click on it in the search results!"),r.a.createElement("p",null,r.a.createElement("b",null,"If you are confused about any terms that are used on this site:")," Try mousing over the term for a tooltip explaining what it is."),r.a.createElement("p",null,r.a.createElement("b",null,"If the track you wish to search for does not show up in the search results:")," Paste the ID given by Spotify into the search bar and press Enter. IDs are base-62 identifiers that look like this: ",r.a.createElement("code",null,"0g5J7GjfRxsunVrrcDLejQ"),". These can be obtained by right-clicking a track in the Spotify client and either copying the Spotify URI or the Link, both of which contain the ID within them.")),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("u",null,r.a.createElement("h3",null,"How accurate is this?")),r.a.createElement("p",null,"Spotify's metadata generally does accurately tell you track information. However, because their systems to derive this information are probably based around algorithms and machine learning, there are innaccuracies."),r.a.createElement("ul",null,r.a.createElement("li",null,"Personally, I've been able to find tracks where the tempo is completely innaccurate"),r.a.createElement("li",null,"I've found tracks where the valence (happiness) score were very low for very happy songs"),r.a.createElement("li",null,"I've seen tracks that have a different overall dataset than anything seen in the sections"),r.a.createElement("li",null,"etc.")),r.a.createElement("p",null,"Not to mention, the metadata that Spotify ",r.a.createElement("i",null,"does")," return is not the most ideal."),r.a.createElement("ul",null,r.a.createElement("li",null,"Genre is not stored under tracks nor albums, only artists, which is ridiculous because many artists are very diverse in their music, and treating all of their songs as the same set of genres is ridiculous (this is why you don't see genre on here!)"),r.a.createElement("li",null,"Time signature is only given as ",r.a.createElement("i",null,"one")," integer. Based off the docs, I've simply made an assumption I know to be incorrect and just put all of the numbers over 4"),r.a.createElement("li",null,"Search results are region-locked to ",r.a.createElement("i",null,"one")," country, which defaults to the United States unless otherwise specified"),r.a.createElement("li",null,"An empty array is returned for the available markets if the track is not available in the same market the token is associated with"),r.a.createElement("li",null,"Spotify is unclear as to what data is provided by the artist/distributor and what data is inferred via their automated systems"))),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("u",null,r.a.createElement("h3",null,"How does this work?")),r.a.createElement("p",null,"The backend is my own API written in ",r.a.createElement("a",{href:"https://golang.org",style:{color:"#85BBFD"}},"Go"),". It queries the ",r.a.createElement("a",{href:"https://developer.spotify.com/documentation/web-api/",style:{color:"#85BBFD"}},"Spotify API")," and serves modified JSON of the results it gets. My API is available under the APGL v3.0 on my ",r.a.createElement("a",{href:"https://github.com/barkloaf/SpotGrabAPI",style:{color:"#85BBFD"}},"GitHub repo"),". The frontend is written sloppily with ",r.a.createElement("a",{href:"https://reactjs.org/",style:{color:"#85BBFD"}},"ReactJS")," (frontend ",r.a.createElement("b",null,"sucks."),"), using some elements from ",r.a.createElement("a",{href:"https://getbootstrap.com/",style:{color:"#85BBFD"}},"Bootstrap")," and other projects. All the source code for this site is available under the GPL v3.0 on my ",r.a.createElement("a",{href:"https://github.com/barkloaf/SpotGrab",style:{color:"#85BBFD"}},"GitHub repo"),"!")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("h3",null,"-barkloaf :3"))))}}]),a}(r.a.Component),R=a(93),D=a(95),C=a(91),U=a(96),G=a(77),_=function(){var e=Object(E.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(new URL("/search?"+encodeURIComponent(t),G.apiURL)).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e,t){var a=t.query,n="".concat(e.artists[0].name," - ").concat(e.name),l=y()(n,a),s=v()(n,l);return r.a.createElement("span",{className:"suggestion-content"},r.a.createElement("img",{src:e.album.images[0].url,width:"100",alt:"Album Art"}),r.a.createElement("span",{className:"name"},s.map((function(e,t){var a=e.highlight?"highlight":null;return r.a.createElement("span",{className:a,key:t},e.text)}))))},H=function(e){return e.name},q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).jsonFetch=function(e){n.setState({isLoaded:!1,about:!1,value:""}),fetch(new URL("/track?id="+encodeURIComponent(e),G.apiURL)).then((function(e){return e.json()})).then((function(e){""!==e.Info.name&&n.setState({isLoaded:!0,error:null,result:e})}),(function(e){n.setState({isLoaded:!0,error:e})}))},n.onChange=function(e,t){var a=t.newValue;n.setState({value:String(a)})},n.onSuggestionsFetchRequested=function(e){var t=e.value;_(t).then((function(e){return n.setState({suggestions:e.tracks.items,sIsLoaded:!0})}))},n.onSuggestionsClearRequested=function(){n.setState({suggestions:[],sIsLoaded:!1})},n.onSuggestionSelected=function(e,t){var a=t.suggestion;t.suggestionValue,t.suggestionIndex,t.sectionIndex,t.method;n.jsonFetch(a.id)},n.aboutButton=function(){n.setState((function(e){return{about:!e.about}}))},n.onKeyUp=function(e){13===e.charCode&&""!==n.state.value&&n.jsonFetch(n.state.value)},n.state={items:[],result:{},value:"",suggestions:[],error:null,isLoaded:!1,about:!0},n.onKeyUp=n.onKeyUp.bind(Object(i.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.result,l=e.value,s=e.suggestions,c=e.about,o={placeholder:"Search Spotify...",value:l,onChange:this.onChange,onKeyPress:this.onKeyUp},i=r.a.createElement("header",{className:"App-header"},r.a.createElement(R.a,{bg:"0f0f0f",variant:"dark"},r.a.createElement(b.a,{suggestions:s,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:H,renderSuggestion:P,inputProps:o,onSuggestionSelected:this.onSuggestionSelected}),r.a.createElement(D.a,{className:"mr-auto"}),r.a.createElement(x,{text:"About / Help",pos:"bottom"},r.a.createElement(C.a,{toggle:!0,className:"mb-2"},r.a.createElement(U.a,{type:"checkbox",variant:"secondary",checked:c,value:"1",onChange:this.aboutButton,size:"lg"},"?")))));return r.a.createElement("div",{className:"App"},i,r.a.createElement("body",{className:"App-body"},t?r.a.createElement("span",{className:"about-text"},"Error: ",t.message):c?r.a.createElement(O,null):a?r.a.createElement(L,{json:n}):r.a.createElement("div",null)))}}]),a}(r.a.Component),J=(a(80),function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",null,"Loading..."))}),K=function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(J,null)},r.a.createElement(q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(81);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.50ade3ea.chunk.js.map